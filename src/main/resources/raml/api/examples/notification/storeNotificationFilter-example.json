{
  "controllerId" : "testsuite",
  "configuration" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\" ?>\r\n<Configurations>\r\n    <Fragments>\r\n        <MessageFragments>\r\n            <Message name=\"command_on_failure\"><![CDATA[${MON_OS_HISTORY_ID} Type: ${MON_N_TYPE}, Return Code: ${MON_OS_RETURN_CODE}, Error Code: ${MON_OS_ERROR_CODE}, Error Message: ${MON_OS_ERROR_TEXT}, Warning: ${MON_OS_WARN_TEXT}, Controller ID: ${MON_O_CONTROLLER_ID}, Agent URI: ${MON_OS_AGENT_URI}, Order ID: ${MON_O_ORDER_ID}, Workflow Path: ${MON_O_WORKFLOW_PATH}, Workflow Title: ${MON_O_WORKFLOW_TITLE}, Job Name: ${MON_OS_JOB_NAME}, Job Title: ${MON_OS_JOB_TITLE}, Job Label: ${MON_OS_JOB_LABEL}, Job Criticality: ${MON_OS_JOB_CRITICALITY}, Order History Status: ${MON_O_SEVERITY}, Order Start Time: ${MON_O_START_TIME}, Order End Time: ${MON_O_END_TIME}, Order Step Start Time: ${MON_OS_START_TIME}, Order Step End Time: ${MON_OS_END_TIME}, Order History ID: ${MON_O_HISTORY_ID}, Order Step History ID: ${MON_OS_HISTORY_ID}]]></Message>\r\n            <Message name=\"command_on_success\"><![CDATA[${MON_OS_HISTORY_ID} Type: ${MON_N_TYPE}, Return Code: ${MON_OS_RETURN_CODE}, Error Code: ${MON_OS_ERROR_CODE}, Error Message: ${MON_OS_ERROR_TEXT}, Warning: ${MON_OS_WARN_TEXT}, Controller ID: ${MON_O_CONTROLLER_ID}, Agent URI: ${MON_OS_AGENT_URI}, Order ID: ${MON_O_ORDER_ID}, Workflow Path: ${MON_O_WORKFLOW_PATH}, Workflow Title: ${MON_O_WORKFLOW_TITLE}, Job Name: ${MON_OS_JOB_NAME}, Job Title: ${MON_OS_JOB_TITLE}, Job Label: ${MON_OS_JOB_LABEL}, Job Criticality: ${MON_OS_JOB_CRITICALITY}, Order History Status: ${MON_O_SEVERITY}, Order Start Time: ${MON_O_START_TIME}, Order End Time: ${MON_O_END_TIME}, Order Step Start Time: ${MON_OS_START_TIME}, Order Step End Time: ${MON_OS_END_TIME}, Order History ID: ${MON_O_HISTORY_ID}, Order Step History ID: ${MON_OS_HISTORY_ID}]]></Message>\r\n            <Message name=\"mail_on_failure\"><![CDATA[<body>\r\n    <style type=\"text/css\">.tg  {border-collapse:collapse;border-spacing:0;border-color:#aaa;}.tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#aaa;color:#333;background-color:#fff;}.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#aaa;color:#fff;background-color:#f38630;}</style>\r\n    <table class=\"tg\">\r\n        <tr>\r\n            <th colspan=\"4\">Error/Warning</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Return&nbsp;Code:</td>\r\n            <td>${MON_OS_RETURN_CODE}</td>\r\n            <td>Message:</td>\r\n            <td>${MON_OS_ERROR_TEXT}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Error&nbsp;Code:</td>\r\n            <td>${MON_OS_ERROR_CODE}</td>\r\n            <td>Warning:</td>\r\n            <td>${MON_OS_WARN_TEXT}</td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Controller</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Controller&nbsp;ID:</td>\r\n            <td>${MON_O_CONTROLLER_ID}</td>\r\n            <td>Agent&nbsp;URI:</td>\r\n            <td>${MON_OS_AGENT_URI}</td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Order</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Order&nbsp;ID:</td>\r\n            <td colspan=\"3\">\r\n                <a href=\"${JOC_HREF_ORDER}\">${MON_O_ORDER_ID}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>Order&nbsp;Log:</td>\r\n            <td colspan=\"3\">\r\n                <a href=\"${JOC_HREF_ORDER_LOG}\">${JOC_HREF_ORDER_LOG}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>Workflow&nbsp;Path:</td>\r\n            <td>\r\n                <a href=\"${JOC_HREF_WORKFLOW}\">${MON_O_WORKFLOW_PATH}</a>\r\n            </td>\r\n            <td>Workflow&nbsp;Title:</td>\r\n            <td>${MON_O_WORKFLOW_TITLE}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Job&nbsp;Name:</td>\r\n            <td>\r\n                <a href=\"${JOC_HREF_JOB}\">${MON_OS_JOB_NAME}</a>\r\n            </td>\r\n            <td>Job&nbsp;Title:</td>\r\n            <td>${MON_OS_JOB_TITLE}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Job&nbsp;Label:</td>\r\n            <td>${MON_OS_JOB_LABEL}</td>\r\n            <td>Job&nbsp;Criticality:</td>\r\n            <td>${MON_OS_JOB_CRITICALITY}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Job&nbsp;Log:</td>\r\n            <td colspan=\"3\">\r\n                <a href=\"${JOC_HREF_JOB_LOG}\">${JOC_HREF_JOB_LOG}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Order&nbsp;History</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Status:</td>\r\n            <td>${MON_O_SEVERITY}</td>\r\n            <td>Time&nbsp;elapsed:</td>\r\n            <td>${MON_O_TIME_ELAPSED}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Start&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_O_START_TIME}</td>\r\n            <td>End&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_O_END_TIME}</td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Order&nbsp;Step&nbsp;History</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Status:</td>\r\n            <td>${MON_OS_SEVERITY}</td>\r\n            <td>Time&nbsp;elapsed:</td>\r\n            <td>${MON_OS_TIME_ELAPSED}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Start&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_OS_START_TIME}</td>\r\n            <td>End&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_OS_END_TIME}</td>\r\n        </tr>\r\n    </table>\r\n</body>]]></Message>\r\n            <Message name=\"mail_on_success\"><![CDATA[<body>\r\n    <style type=\"text/css\">.tg  {border-collapse:collapse;border-spacing:0;border-color:#bbb;}.tg td {font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#bbb;color:#594F4F;background-color:#E0FFEB;}.tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;border-color:#bbb;color:#493F3F;background-color:#9DE0AD}</style>\r\n    <table class=\"tg\">\r\n        <tr>\r\n            <th colspan=\"4\">Controller</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Controller&nbsp;ID:</td>\r\n            <td>${MON_O_CONTROLLER_ID}</td>\r\n            <td>Agent&nbsp;URI:</td>\r\n            <td>${MON_OS_AGENT_URI}</td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Order</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Order&nbsp;ID:</td>\r\n            <td colspan=\"3\">\r\n                <a href=\"${JOC_HREF_ORDER}\">${MON_O_ORDER_ID}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>Order&nbsp;Log:</td>\r\n            <td colspan=\"3\">\r\n                <a href=\"${JOC_HREF_ORDER_LOG}\">${JOC_HREF_ORDER_LOG}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td>Workflow&nbsp;Path:</td>\r\n            <td>\r\n                <a href=\"${JOC_HREF_WORKFLOW}\">${MON_O_WORKFLOW_PATH}</a>\r\n            </td>\r\n            <td>Workflow&nbsp;Title:</td>\r\n            <td>${MON_O_WORKFLOW_TITLE}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Job&nbsp;Name:</td>\r\n            <td>\r\n                <a href=\"${JOC_HREF_JOB}\">${MON_OS_JOB_NAME}</a>\r\n            </td>\r\n            <td>Job&nbsp;Title:</td>\r\n            <td>${MON_OS_JOB_TITLE}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Job&nbsp;Label:</td>\r\n            <td>${MON_OS_JOB_LABEL}</td>\r\n            <td>Job&nbsp;Criticality:</td>\r\n            <td>${MON_OS_JOB_CRITICALITY}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Job&nbsp;Log:</td>\r\n            <td colspan=\"3\">\r\n                <a href=\"${JOC_HREF_JOB_LOG}\">${JOC_HREF_JOB_LOG}</a>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Order&nbsp;History</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Status:</td>\r\n            <td>${MON_O_SEVERITY}</td>\r\n            <td>Time&nbsp;elapsed:</td>\r\n            <td>${MON_O_TIME_ELAPSED}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Start&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_O_START_TIME}</td>\r\n            <td>End&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_O_END_TIME}</td>\r\n        </tr>\r\n        <tr>\r\n            <th colspan=\"4\">Order&nbsp;Step&nbsp;History</th>\r\n        </tr>\r\n        <tr>\r\n            <td>Status:</td>\r\n            <td>${MON_OS_SEVERITY}</td>\r\n            <td>Time&nbsp;elapsed:</td>\r\n            <td>${MON_OS_TIME_ELAPSED}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Start&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_OS_START_TIME}</td>\r\n            <td>End&nbsp;Time&nbsp;UTC:</td>\r\n            <td>${MON_OS_END_TIME}</td>\r\n        </tr>\r\n    </table>\r\n</body>]]></Message>\r\n        </MessageFragments>\r\n        <MonitorFragments>\r\n            <CommandFragment name=\"command_on_failure\">\r\n                <MessageRef ref=\"command_on_failure\"/>\r\n                <Command><![CDATA[echo \"${MESSAGE}\" >> /tmp/notification.log]]></Command>\r\n            </CommandFragment>\r\n            <CommandFragment name=\"command_on_success\">\r\n                <MessageRef ref=\"command_on_success\"/>\r\n                <Command><![CDATA[echo \"${MESSAGE}\" >> /tmp/notification.log]]></Command>\r\n            </CommandFragment>\r\n            <MailFragment charset=\"ISO-8859-1\" content_type=\"text/html\" encoding=\"7bit\" job_resources=\"eMailDefault\" name=\"mail_on_failure\" priority=\"Normal\">\r\n                <MessageRef ref=\"mail_on_failure\"/>\r\n                <Subject><![CDATA[JS7 JobScheduler Notification: ${MON_N_TYPE} - Order ID: ${MON_O_ORDER_ID} - Workflow: ${MON_O_WORKFLOW_PATH}]]></Subject>\r\n                <To><![CDATA[info@example.com]]></To>\r\n            </MailFragment>\r\n            <MailFragment charset=\"ISO-8859-1\" content_type=\"text/html\" encoding=\"7bit\" job_resources=\"eMailDefault\" name=\"mail_on_success\" priority=\"Normal\">\r\n                <MessageRef ref=\"mail_on_success\"/>\r\n                <Subject><![CDATA[JS7 JobScheduler Notification: ${MON_N_TYPE} - Order ID: ${MON_O_ORDER_ID} - Workflow: ${MON_O_WORKFLOW_PATH}]]></Subject>\r\n                <To><![CDATA[info@example.com]]></To>\r\n            </MailFragment>\r\n        </MonitorFragments>\r\n        <ObjectFragments>\r\n            <Workflows name=\"any\">\r\n                <Workflow>\r\n                    <WorkflowJob criticality=\"ALL\"/>\r\n                </Workflow>\r\n            </Workflows>\r\n            <Workflows name=\"none\">\r\n                <Workflow path=\"unknown\"/>\r\n            </Workflows>\r\n        </ObjectFragments>\r\n    </Fragments>\r\n    <Notifications>\r\n        <Notification name=\"notify_on_failure\" type=\"ERROR WARNING\">\r\n            <NotificationMonitors>\r\n                <CommandFragmentRef ref=\"command_on_failure\">\r\n                    <MessageRef ref=\"command_on_failure\"/>\r\n                </CommandFragmentRef>\r\n                <MailFragmentRef ref=\"mail_on_failure\"/>\r\n            </NotificationMonitors>\r\n            <NotificationObjects>\r\n                <WorkflowsRef ref=\"none\"/>\r\n            </NotificationObjects>\r\n        </Notification>\r\n        <Notification name=\"notify_on_success\" type=\"SUCCESS\">\r\n            <NotificationMonitors>\r\n                <CommandFragmentRef ref=\"command_on_success\">\r\n                    <MessageRef ref=\"command_on_success\"/>\r\n                </CommandFragmentRef>\r\n                <MailFragmentRef ref=\"mail_on_success\"/>\r\n            </NotificationMonitors>\r\n            <NotificationObjects>\r\n                <WorkflowsRef ref=\"none\"/>\r\n            </NotificationObjects>\r\n        </Notification>\r\n        <Notification name=\"notify_on_failure_gui\" type=\"ERROR WARNING\">\r\n            <NotificationMonitors/>\r\n            <NotificationObjects>\r\n                <WorkflowsRef ref=\"any\"/>\r\n            </NotificationObjects>\r\n        </Notification>\r\n    </Notifications>\r\n</Configurations>",
  "name" : "notification.xml"
}